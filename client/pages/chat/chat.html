<guides ng-show="guides_status"></guides>

<!--    chat room    -->
<div class="chat-room-wrapper" ng-show="hasLogined">
    <div class="col-xs-4" id="online">
        <div class="heading">
            ME: <br>
            <user info="user"></user>
        </div>
        <div class="body">
            <div class="user-wrapper">
                <user iscurrentreceiver="receiver===user.nickname" info="user" ng-click="setReceiver(user.nickname)" ng-repeat="user in users">
                </user>
            </div>
        </div>
        <div class="foot">
            <p>
                <i class="fa fa-users"></i> : 
                <span class="user-number"><em>{{users.length-1}}</em>
                </span>
            </p>
        </div>
    </div>

    <div class="col-xs-8" id="rooms">
        <div class="heading">
            <h3>
            {{receiver?receiver:"Group Room"}}
            </h3>
        </div>
        <div class="body">
            <div class="message-wrapper">
                <message self="nickname" scrolltothis="scrollToBottom()" info="message" ng-repeat="message in messages">
                </message>
            </div>
        </div>
        <div class="foot">
            <form novalidate name="postform" ng-submit="postMessage()">
                <div class="input-group"> 
                    <input type="text" ng-model="words" required />
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-success" ng-disabled="postform.$invalid">Send</button>
                    </span>
                </div>
            </form>
        </div>
    </div>
</div>

<!--    login    -->
<div class="loginform-wrapper" ng-show="!hasLogined">
    <form class="form-inline login" novalidate name="loginform" ng-submit="login()">
        <div class="form-group">
            <label for="nickname" class="sr-only"></label>
            <div class="input-group">
                <div class="input-group-addon">
                    <span class="fa fa-user"></span>
                </div>
                <input type="text" class="form-control" id="nickname" placeholder="Your Nickname" ng-model="nickname" required/>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" ng-disabled="loginform.$invalid">LOG IN</button>
        <p ng-show="userExisted" class="help-block" style="color: black; font-size: 20px;">A user with this nickname already exists.</p>
    </form>
</div>

